<script src="node_modules/chart.js/Chart.min.js"></script>
<script src="node_modules/angular-chart.js/dist/angular-chart.min.js"></script>
<link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>


<div class="col-md-12">
  <div class="pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Pet</h1>
  </div>
  <p><strong>Aanmaken Pet:</strong><input #box (keyup.enter)="onEnter(box.value)"> </p>

  <mat-expansion-panel *ngFor="let pet of fullPet; let i = index">
    <mat-expansion-panel-header>
      <mat-panel-title>
        <strong>{{i + 1}}. {{pet.name}}</strong>
      </mat-panel-title>
      <mat-panel-description>
        <div *ngIf='pet.vet_uuid == null'>
          This pet does not have a vet assigned!
        </div>
        <div *ngIf='pet.vet_uuid != null'>
          Vet: {{pet.vet_uuid}}
        </div>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <div *ngIf='pet.vet_uuid == null' class="mb-3 border-bottom">
      <strong>Please, choose a veterinarian! then he will be able to see the data of your pet!</strong>
      <select (change)="onChangePet($event.target.value)">
        <option disabled selected hidden>Choose a Vet</option>
        <option *ngFor=" let vet of vetpet" value="{{vet.uuid}}">{{vet.surName}} {{vet.name}}</option>
      </select>
      <button type="button" class="btn btn-default btn-circle" (click)="post($event, pet, i)"> <i
          class="glyphicon glyphicon-ok"></i></button>
      <button type="button" class="btn btn-primary btn-circle"> <i class="glyphicon glyphicon-pencil"></i></button>
    </div>
    <div>
      <ejs-chart [primaryXAxis]='xAxis' [primaryYAxis]='yAxis' [legendSettings]='legend' [tooltip]='tooltipSettings'>
        <e-series-collection>
          <!-- <e-series type='Line' [dataSource]="pet.petData[this[i]]" xName='date' yName='weight'></e-series> -->
          <e-series type='Line' [dataSource]="pet.petData" xName='date' yName='frontRight' name="RightLeg"
            [marker]="markerSettings"></e-series>
          <e-series type='Line' [dataSource]="pet.petData" xName='date' yName='frontLeft' name="LeftLeg"
            [marker]="markerSettings"></e-series>

          <e-series type='Line' [dataSource]="pet.petData" xName='date' yName='backRight' name="backRight"
            [marker]="markerSettings"></e-series>
          <e-series type='Line' [dataSource]="pet.petData" xName='date' yName='backLeft' name="backLeft"
            [marker]="markerSettings"></e-series>


        </e-series-collection>
      </ejs-chart>
    </div>
    <div>
      <select [(ngModel)]="this[i]">
        <option disabled selected hidden>Choose a date</option>
        <option *ngFor="let data of pet.petData; let i = index" value="{{i}}"> {{data.date | dateAgo}}</option>

      </select>
    </div>
    <div *ngIf="this[i] != null">
      <p>value: {{this[i]}}</p>
      <p> Temp: {{pet.petData[this[i]].temperature}}</p>
      <p> weight {{pet.petData[this[i]].frontRight}}</p>


    </div>
  </mat-expansion-panel>
  <!-- <div>
    <select  (change)="onChangePet($event.target.value)">
      <option *ngFor="let pet of pets; let i = index" value="{{pet.petId}} ">{{i+1}}) {{pet.name}}</option>
    </select>
  <select (change)="onChangeDate($event.target.value)">
    <option *ngFor="let petData of petDatas[0]; let i = index" value="{{i}}">{{i+1}}) {{petData.date| date:"short" }}</option>
  </select> -->
  <!-- <ng2-flatpickr ></ng2-flatpickr> -->
  <!-- <ng2-flatpickr [setDate]="randomDateObject" formControlName="formControlName"></ng2-flatpickr> -->
  <!-- </div>
  <p>Deze pet heeft als vet {{vet}}</p>
  <p *ngIf="">geen vet</p>
  <li>{{frontLeft}}</li>
  <li>{{frontRight}}</li>
  <li>{{backLeft}}</li>
  <li>{{backRight}}</li>
  <li>{{temperature}}</li>
 -->



</div>
